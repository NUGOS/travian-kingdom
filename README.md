## Main development : [Click Here](https://github.com/phoomin2012/travian-kingdom)
# Travian Kingdom Clone Script
**Abandoned. No more support.**
This project is clone Travian Kingdom game. Now, **not finish** yet.<br>

Base on `Travian Kingdom` version : 0.66.8

# Menu
  - [Menu](#menu)
  - [Feature](#feature)
  - [Screenshot](#screenshot)
  - [Requires](#requires)
  - [Installation](#installation)
  - [Subscribe](#subscribe)

# Feature
- Index
  - [ ] Start without account
- Lobby
  - Achievements
    - [ ] Achievements list
    - [ ] Prestige
    - [ ] Cliam prestige
  - Avatar
    - [ ] Set sitters
    - [ ] Set duals
  - Game worlds
    - [x] Join game worlds
    - [ ] List playing game worlds
    - [ ] List playing game worlds that sitters
    - [ ] Remove avatar
  - News
    - [ ] Show news
  - Account
    - [x] Login
    - [x] Register
    - [ ] Change picture avatar
    - [ ] Change email
    - [ ] Change password
    - [ ] Change account name
    - [ ] Subscribe to newsletter
    - [ ] Logout
- Gameplay
  - System
    - [x] Maintenance mode
    - [ ] Disable attack
    - [ ] Crop diet rule
    - [ ] Spawn natarian village
    - [ ] Spawn WW village on vocalno
    - [ ] Spawn robber hideout
    - [ ] Spawn robber camp (for kingdom)
  - Building list
    - [x] Construct building
    - [x] Upgrade building
    - [x] Master building
    - [x] Resort building list
    - [x] Cancel building
    - [x] Buy more slot
    - [x] Reserve resource
    - [x] Finish now
  - Troops & Movements
    - [x] Train troop
    - [ ] Finish train troop immediately
  - Movements
    - [x] Send attack (no attack)
    - [ ] Send raid (no attack)
    - [ ] Send siege (no attack)
    - [x] Settle new village
    - [ ] Send hero to own village
    - [ ] Send hero to other village
    - [ ] Conqure village
    - [ ] Steal resources
    - [ ] Steal treasures
  - Hero
    - [x] Adventure (generate item with no effect)
    - [ ] Attack
    - [ ] Reinforcement
    - [x] Inventory
    - [x] Attributes
    - [ ] Increase resources production in village
    - [x] Change hero face
    - [x] Hero equipment
  - Silver & Gold
    - [x] Exchange sliver & gold
    - [ ] Travian Plus
    - [x] Resource bonus
    - [x] Crop bonus
    - [ ] Starter pack
    - [ ] Invite friends
    - [ ] Purchase gold
    - [ ] Auto extend
    - [x] Lifetime bonus
  - Report
    - [ ] Attack report (not correct infomation)
    - [ ] Raid report
    - [ ] Siege report
    - [ ] Spy report
    - [ ] Defense report
    - [ ] Reinforces report
    - [x] Advanture report
    - [ ] Trade report
    - [ ] Reinforces arrived report
    - [ ] Animal caught repor
    - [ ] Visit report
    - [ ] Weeky prestige
    - [ ] Share report
    - [ ] Favorites report
  - Statistics
    - Player
      - [x] Overview
      - [x] Attacker
      - [x] Defender
      - [x] Villages
      - [x] Heroes
      - [ ] Top 10
      - [ ] Search
    - Kingdom
      - [x] Victory points
      - [x] Population
      - [ ] Area
      - [ ] Attacker
      - [ ] Defender
      - [ ] Top 10
      - [ ] Search
    - [x] World
  - Quest
    - [x] Tutorial gameplay
    - [ ] Tutorial governer
    - [ ] Tutorial king
    - [ ] Daliy quest
    - [ ] Quest
  - Setting
    - [x] Change setting
    - [ ] Delete avatar
  - Prestige
    - [x] Prestige
    - [ ] Give prestige
  - Player profile
    - [ ] Modal
    - [x] Change description
  - Auction
    - [x] Sell
    - [x] Bids
    - [x] Silver accounting (History)
    - [x] Remove expire item
  - Kingdom
    - [x] Create kingdom
    - [x] Change description
    - [x] Change tag
    - [x] Show member
    - [ ] Invite player
    - [ ] Accept kingdom invite (player)
    - [ ] Invite duke
    - [ ] Accept kingdom invite (duke)
    - [x] Treasure active
    - [ ] Internation statistics
    - [ ] Show Kingdom events
    - [ ] Show Ranking
    - [ ] Show Treasuries
    - [ ] Show Tributes
    - [ ] Collect tributes
    - [ ] Show Diplomacy
    - [ ] Create offer
    - [ ] Accept offer
  - Notification
    - [x] Show notification
    - [x] Remove notification
    - [x] Remove all notification
  - Map
    - [x] Show map cell
    - [x] Show map cell detail
    - [x] Show village infomation
    - [x] Show oasis
    - [x] Show oasis troops
    - [ ] Show report
    - [ ] Robber
    - [ ] NPC Village
    - [ ] Natar village
    - [ ] WW village
    - [x] Vocano
    - [x] Kingdom borders
    - [ ] Game messages
    - [ ] Player messages
    - [ ] Kingdom markers
    - [ ] Player markers
    - [ ] Fields markers
  - Oasis
    - [ ] Assign oasis
    - [ ] Oasis bonus
    - [ ] Give up oasis
    - [ ] Bonus from troops in oasis
    - [ ] Auto add animals to oasis
  - Village & Building
    - [x] Upgrade to town
    - [ ] Celebration
    - [ ] Claim resource from hidden treasures
    - [ ] Extra building fields
    - [x] Research troops
    - [x] Finish now research
    - [x] Improve troops
    - [x] Finish now improve
    - [x] Demolish building
    - [x] Clear rubbles
  - Market
    - [x] Send resources
    - [ ] Create trade route
    - [ ] Auto send resources
    - [ ] Create offer
    - [ ] List offers
    - [ ] Filter offer
    - [ ] Accept offer
    - [ ] Cancel offer
    - [ ] NPC merchant
  - Notepads
    - [x] Show/hide notepad
    - [x] Create a new note
    - [x] Edit note
    - [x] Delete note
  - Message & Chat
    - [ ] Open chat on bar
    - [ ] Show chat on bar
    - [ ] Join global room
    - [ ] Join kingdom room
    - [ ] Join society room
    - [x] Create new conversation (Private)
    - [ ] Create new conversation (Kingdom)
    - [ ] Create new conversation (Society)
    - [x] Send message (Private)
    - [ ] Send message (Kingdom)
    - [ ] Send message (Society)
    - [ ] Send message (Global room)
    - [ ] Send message (Kingdom room)
    - [ ] Send message (Society room)
    - [ ] Mark as read
    - [ ] Show notification
  
# Screenshot
![Travian Kingdom Clone Script](https://raw.githubusercontent.com/phoomin2012/travian-kingdom/master/screenshot/screenshot-1.png)
![Travian Kingdom Clone Script](https://raw.githubusercontent.com/phoomin2012/travian-kingdom/master/screenshot/screenshot-2.png)
![Travian Kingdom Clone Script](https://raw.githubusercontent.com/phoomin2012/travian-kingdom/master/screenshot/screenshot-3.png)
![Travian Kingdom Clone Script](https://raw.githubusercontent.com/phoomin2012/travian-kingdom/master/screenshot/screenshot-4.png)
![Travian Kingdom Clone Script](https://raw.githubusercontent.com/phoomin2012/travian-kingdom/master/screenshot/screenshot-5.png)
![Travian Kingdom Clone Script](https://raw.githubusercontent.com/phoomin2012/travian-kingdom/master/screenshot/screenshot-6.png)
![Travian Kingdom Clone Script](https://raw.githubusercontent.com/phoomin2012/travian-kingdom/master/screenshot/screenshot-7.png)

# Requires
  - PHP 5.6+ (with PDO mysql)
  - Node.JS
Test with PHP 5.6,7.1 with Apache & nginx
  
*** IMPORTANT *** This script can't use in web hosting because automatice function run as service

# Installation
  1. Perpair web server program (very simple use xampp)
    - Prepair subdomain and point to your server
    - Config apache vhost for game
    
Example vhost config for apache (OSX with xampp)
```
<VirtualHost *:80>
    # Index
    ServerAdmin t5.ph
    ServerName t5.ph
    DocumentRoot "/Applications/XAMPP/xamppfiles/htdocs/travian5"
    ErrorLog "logs/t5.ph-error_log"
    CustomLog "logs/t5.ph-access_log" common
</VirtualHost>
<VirtualHost *:80>
    # Index
    ServerAdmin kingdoms.t5.ph
    ServerName kingdoms.t5.ph
    DocumentRoot "/Applications/XAMPP/xamppfiles/htdocs/travian5/index"
    ErrorLog "logs/kingdoms.t5.ph-error_log"
    CustomLog "logs/kingdoms.t5.ph-access_log" common
</VirtualHost>
<VirtualHost *:80>
    # Mellon service (Account service)
    ServerAdmin mellon.t5.ph
    ServerName mellon.t5.ph
    DocumentRoot "/Applications/XAMPP/xamppfiles/htdocs/travian5/mellon"
    ErrorLog "logs/mellon.t5.ph-error_log"
    CustomLog "logs/mellon.t5.ph-access_log" common
    Header set Access-Control-Allow-Origin "*"

    AllowEncodedSlashes on
</VirtualHost>
<VirtualHost *:80>
    # CDN
    ServerAdmin cdn.t5.ph
    ServerName cdn.t5.ph
    DocumentRoot "/Applications/XAMPP/xamppfiles/htdocs/travian5/cdn"
    ErrorLog "logs/cdn.t5th.ph-error_log"
    CustomLog "logs/cdn.t5th.ph-access_log" common
    Header set Access-Control-Allow-Origin "*"
</VirtualHost>
<VirtualHost *:80>
    # Lobby
    ServerAdmin lobby.t5.ph
    ServerName lobby.t5.ph
    DocumentRoot "/Applications/XAMPP/xamppfiles/htdocs/travian5/lobby"
    ErrorLog "logs/lobby.t5.ph-error_log"
    CustomLog "logs/lobby.t5.ph-access_log" common
</VirtualHost>
<VirtualHost *:80>
    # Game
    ServerAdmin ks1.t5.ph
    ServerName ks1.t5.ph
    DocumentRoot "/Applications/XAMPP/xamppfiles/htdocs/travian5/game/s1"
    ErrorLog "logs/ks1.t5.ph-error_log"
    CustomLog "logs/ks1.t5.ph-access_log" common
</VirtualHost>
```
Example hosts file
```
# Travian Kingdom
127.0.0.1       t5.ph
127.0.0.1       kingdoms.t5.ph
127.0.0.1       mellon.t5.ph
127.0.0.1       lobby.t5.ph
127.0.0.1       cdn.t5.ph
127.0.0.1       ks1.t5.ph
```

  2. Import database from travian5.sql<br>
    If you want empty data, you should empty every table except ```global_server_data```<br>
    If you want to change speed world, you can edit in ```global_server_data``` table too<br>
  3. Config mysql password in ```/config.php```
  4. Start automatice process with command ```php server2/server.php``` and ```node server/app2``` and ```node server_lobby/app``` (don't forget to install nodejs module with ```npm install``` before run)
  5. Let's enjoy your server
  
  **To generate world**<br>
  go to sub domain that game avaliable. go to api folder and go to debug.php?a=createWorld<br>
  for example `ks1.t5.ph/api/debug.php?a=createWorld`
  
Please note that this script doesn't finish yet.
If you found bug please use [Issues](https://github.com/phoomin2012/travian-kingdom-clone/issues) to report and use [Pulls Requests](https://github.com/phoomin2012/travian-kingdom-clone/pulls) to request feature that offical have or fix bug or add new feature to main project.
 
# Subscribe
***NOW IS FREE***<br>
Use **watch** button if you want to know about activities.<br>
If you **like** this project, please give **star**.<br>
***THANKS***
